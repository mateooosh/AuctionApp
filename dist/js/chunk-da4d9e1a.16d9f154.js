(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da4d9e1a"],{2011:function(e,t,o){},"873e":function(e,t,o){"use strict";o("2011")},b0e0:function(e,t,o){"use strict";o.r(t);var s=o("7a23"),n={class:"konto"};function a(e,t,o,a,i,l){var c=Object(s["x"])("Navbar"),r=Object(s["x"])("Settings"),d=Object(s["x"])("Footer");return Object(s["q"])(),Object(s["d"])("div",n,[Object(s["h"])(c),Object(s["h"])(r),Object(s["h"])(d)])}var i=o("d178"),l=Object(s["H"])("data-v-4252b79c");Object(s["t"])("data-v-4252b79c");var c={class:"settings"},r=Object(s["h"])("h1",null,"Ustawienia konta",-1),d={class:"settings__option"},u=Object(s["h"])("div",null,[Object(s["h"])("i",{class:"fas fa-user-edit fa-lg"}),Object(s["g"])(" Zmień dane kontaktowe ")],-1),h={class:"settings__content"},p={class:"settings__firstname"},b=Object(s["g"])("Imię"),m=Object(s["h"])("span",{style:{color:"red"}},"*",-1),g={class:"settings__lastname"},_=Object(s["g"])("Nazwisko"),f=Object(s["h"])("span",{style:{color:"red"}},"*",-1),j={class:"settings__location"},w=Object(s["g"])("Lokalizacja"),O=Object(s["h"])("span",{style:{color:"red"}},"*",-1),v={class:"settings__province"},k=Object(s["h"])("label",{class:"settings__province__label",for:"province"},[Object(s["g"])("Województwo"),Object(s["h"])("span",{style:{color:"red"}},"*")],-1),C=Object(s["f"])('<option value="" disabled selected data-v-4252b79c>Wybierz...</option><option value="dolnośląskie" data-v-4252b79c>dolnośląskie</option><option value="kujawsko-pomorskie" data-v-4252b79c>kujawsko-pomorskie</option><option value="lubelskie" data-v-4252b79c>lubelskie</option><option value="lubuskie" data-v-4252b79c>lubuskie</option><option value="łódzkie" data-v-4252b79c>łódzkie</option><option value="małopolskie" data-v-4252b79c>małopolskie</option><option value="mazowieckie" data-v-4252b79c>mazowieckie</option><option value="opolskie" data-v-4252b79c>opolskie</option><option value="podkarpackie" data-v-4252b79c>podkarpackie</option><option value="podlaskie" data-v-4252b79c>podlaskie</option><option value="pomorskie" data-v-4252b79c>pomorskie</option><option value="śląskie" data-v-4252b79c>śląskie</option><option value="świętokrzyskie" data-v-4252b79c>świętokrzyskie</option><option value="warmińsko-mazurskie" data-v-4252b79c>warmińsko-mazurskie</option><option value="wielkopolskie" data-v-4252b79c>wielkopolskie</option><option value="zachodniopomorskie" data-v-4252b79c>zachodniopomorskie</option>',17),y={class:"settings__phone"},z=Object(s["g"])("Numer telefonu"),E=Object(s["h"])("span",{style:{color:"red"}},"*",-1),P={class:"settings__option"},I=Object(s["h"])("div",null,[Object(s["h"])("i",{class:"fas fa-lock fa-lg"}),Object(s["g"])(" Zmień hasło ")],-1),V={class:"settings__content"},$={class:"settings__password1"},x=Object(s["g"])("Aktualne hasło"),N=Object(s["h"])("span",{style:{color:"red"}},"*",-1),S={class:"settings__password2"},U=Object(s["g"])("Nowe hasło"),Z=Object(s["h"])("span",{style:{color:"red"}},"*",-1),L={class:"settings__option"},A=Object(s["h"])("div",null,[Object(s["h"])("i",{class:"fas fa-at fa-lg"}),Object(s["g"])(" Zmień adres e-mail ")],-1),B={class:"settings__content"},J={class:"settings__email1"},T=Object(s["g"])("Aktualny e-mail "),q=Object(s["h"])("span",{style:{color:"red"}},"*",-1),F={class:"settings__email2"},H=Object(s["g"])("Nowy e-mail"),M=Object(s["h"])("span",{style:{color:"red"}},"*",-1),D={class:"settings__option"},K=Object(s["h"])("div",null,[Object(s["h"])("i",{class:"fas fa-trash fa-lg"}),Object(s["g"])(" Usuń swoje konto ")],-1),W={class:"settings__content"},G=Object(s["h"])("div",{style:{"margin-top":"15px"}}," Przykro nam, że zawitałeś w to miejsce, mamy nadzieję, że dzięki naszemu serwisowi dokonałeś niejednego udanego zakupu! Kliknięcie na poniższy przycisk spowoduje usunięcie Twojego konta, co za tym idzie, nie będzie możliwe zalogowanie się do serwisu wdmj.pl. Jest to nieodwracalna operacja. Jednak dane Twojego konta nie zostaną usunięte z naszej bazy klientów. ",-1);Object(s["r"])();var Q=l((function(e,t,o,n,a,i){return Object(s["q"])(),Object(s["d"])("div",c,[r,Object(s["h"])("div",d,[Object(s["h"])("div",{onClick:t[1]||(t[1]=function(e){return i.toggleContentIsVisible(0)}),class:"settings__title"},[u,Object(s["h"])("i",{class:[{"rotate-180-deg":a.contentIsVisible[0]},"fas fa-chevron-down fa-lg"]},null,2)]),Object(s["h"])("div",h,[Object(s["h"])("div",null,[Object(s["h"])("form",p,[Object(s["h"])("label",{class:[{"wrong-firstname":!a.isCorrectFirstname},"settings__firstname__label"],for:"firstname"},[b,m],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.firstname=e}),onChange:t[3]||(t[3]=function(e){return a.isCorrectFirstname=i.validateMin3Char(a.firstname)}),class:"settings__firstname__input",name:"firstname",type:"text",placeholder:"Imię"},null,544),[[s["C"],a.firstname]])]),Object(s["h"])("form",g,[Object(s["h"])("label",{class:[{"wrong-lastname":!a.isCorrectLastname},"settings__lastname__label"],for:"lastname"},[_,f],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.lastname=e}),onChange:t[5]||(t[5]=function(e){return a.isCorrectLastname=i.validateMin3Char(a.lastname)}),class:"settings__lastname__input",name:"lastname",type:"text",placeholder:"Nazwisko"},null,544),[[s["C"],a.lastname]])]),Object(s["h"])("form",j,[Object(s["h"])("label",{class:[{"wrong-location":!a.isCorrectLocation},"settings__location__label"],for:"location"},[w,O],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.location=e}),onChange:t[7]||(t[7]=function(e){return a.isCorrectLocation=i.validateMin3Char(a.location)}),class:"settings__location__input",name:"location",type:"text",placeholder:"Miejscowość"},null,544),[[s["C"],a.location]])]),Object(s["h"])("form",v,[k,Object(s["E"])(Object(s["h"])("select",{onChange:t[8]||(t[8]=function(e){return a.isCorrectProvince=!0}),"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.province=e}),class:"settings__province__select",name:"province"},[C],544),[[s["B"],a.province]])]),Object(s["h"])("form",y,[Object(s["h"])("label",{class:[{"wrong-phone":!a.isCorrectPhone},"settings__phone__label"],for:"phone"},[z,E],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.phone=e}),onChange:t[11]||(t[11]=function(){return i.validatePhone.apply(i,arguments)}),class:"settings__phone__input",name:"phone",type:"text",placeholder:"Numer Telefonu"},null,544),[[s["C"],a.phone]])])]),Object(s["h"])("button",{onClick:t[12]||(t[12]=function(){return i.savePersonalData.apply(i,arguments)}),class:"settings__btn"},"Zapisz")])]),Object(s["h"])("div",P,[Object(s["h"])("div",{onClick:t[13]||(t[13]=function(e){return i.toggleContentIsVisible(1)}),class:"settings__title"},[I,Object(s["h"])("i",{class:[{"rotate-180-deg":a.contentIsVisible[1]},"fas fa-chevron-down fa-lg"]},null,2)]),Object(s["h"])("div",V,[Object(s["h"])("div",null,[Object(s["h"])("form",$,[Object(s["h"])("label",{class:[{"wrong-password":!a.isCorrectPassword1},"settings__password1__label"],for:"settings__password1"},[x,N],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[14]||(t[14]=function(e){return a.oldPassword=e}),onChange:t[15]||(t[15]=function(e){return a.isCorrectPassword1=i.validatePassword(a.oldPassword)}),class:"settings__password1__input",name:"settings__password1",type:"password",placeholder:"Aktualne hasło",autocomplete:"on"},null,544),[[s["C"],a.oldPassword]])]),Object(s["h"])("form",S,[Object(s["h"])("label",{class:[{"wrong-password":!a.isCorrectPassword2},"settings__password2__label"],for:"settings__password2"},[U,Z],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[16]||(t[16]=function(e){return a.newPassword=e}),onChange:t[17]||(t[17]=function(e){return a.isCorrectPassword2=i.validatePassword(a.newPassword)}),class:"settings__password2__input",name:"settings__password2",type:"password",placeholder:"Nowe hasło",autocomplete:"on"},null,544),[[s["C"],a.newPassword]])])]),Object(s["h"])("button",{onClick:t[18]||(t[18]=function(){return i.savePassword.apply(i,arguments)}),class:"settings__btn"},"Zapisz")])]),Object(s["h"])("div",L,[Object(s["h"])("div",{onClick:t[19]||(t[19]=function(e){return i.toggleContentIsVisible(2)}),class:"settings__title"},[A,Object(s["h"])("i",{class:[{"rotate-180-deg":a.contentIsVisible[2]},"fas fa-chevron-down fa-lg"]},null,2)]),Object(s["h"])("div",B,[Object(s["h"])("div",null,[Object(s["h"])("form",J,[Object(s["h"])("label",{class:[{"wrong-email":!a.isCorrectEmail1},"settings__email1__label"],for:"settings__email1"},[T,q],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[20]||(t[20]=function(e){return a.oldEmail=e}),onChange:t[21]||(t[21]=function(e){return a.isCorrectEmail1=i.validateEmail(a.oldEmail)}),class:"settings__email1__input",name:"settings__email1",type:"text",placeholder:"Aktualny e-mail"},null,544),[[s["C"],a.oldEmail]])]),Object(s["h"])("form",F,[Object(s["h"])("label",{class:[{"wrong-email":!a.isCorrectEmail2},"settings__email2__label"],for:"settings__email2"},[H,M],2),Object(s["E"])(Object(s["h"])("input",{"onUpdate:modelValue":t[22]||(t[22]=function(e){return a.newEmail=e}),onChange:t[23]||(t[23]=function(e){return a.isCorrectEmail2=i.validateEmail(a.newEmail)}),class:"settings__email2__input",name:"settings__email2",type:"text",placeholder:"Nowy e-mail"},null,544),[[s["C"],a.newEmail]])])]),Object(s["h"])("button",{onClick:t[24]||(t[24]=function(){return i.saveEmail.apply(i,arguments)}),class:"settings__btn"},"Zapisz")])]),Object(s["h"])("div",D,[Object(s["h"])("div",{onClick:t[25]||(t[25]=function(e){return i.toggleContentIsVisible(3)}),class:"settings__title"},[K,Object(s["h"])("i",{class:[{"rotate-180-deg":a.contentIsVisible[3]},"fas fa-chevron-down fa-lg"]},null,2)]),Object(s["h"])("div",W,[G,Object(s["h"])("button",{onClick:t[26]||(t[26]=function(){return i.deleteAccount.apply(i,arguments)}),class:"settings__btn"},"Usuń konto")])])])})),R=(o("d3b7"),o("5502")),X={name:"Settings",store:R["a"],data:function(){return{contentIsVisible:[!1,!1,!1,!1],firstname:"",lastname:"",location:"",province:"",phone:"",isCorrectEmail:!0,isCorrectPassword:!0,isCorrectFirstname:!0,isCorrectLastname:!0,isCorrectLocation:!0,isCorrectProvince:!0,isCorrectPhone:!0,isCorrectPassword1:!0,isCorrectPassword2:!0,oldPassword:"",newPassword:"",isCorrectEmail1:!0,isCorrectEmail2:!0,oldEmail:"",newEmail:""}},mounted:function(){var e=this;if(this.$store.state.logged){var t="http://localhost:8080/api/users/"+this.$store.state.userId;console.log(this.$store.state.userId),fetch(t).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),e.firstname=t.firstname,e.lastname=t.lastname,e.location=t.location,e.province=t.province,e.phone=t.phone})).catch((function(e){console.log("Błąd",e),console.log("Coś poszło nie tak z requestem na adres: ",t)}))}},methods:{getLogged:function(){return this.$store.state.logged},savePersonalData:function(){var e={userId:this.$store.state.userId,firstname:this.firstname,lastname:this.lastname,location:this.location,province:this.province,phone:this.phone};console.log("Przesłany obiekt",e);var t="http://localhost:8080/api/users/"+this.$store.state.userId+"/personal";fetch(t,{method:"POST",body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),alert("Zmieniono dane kontaktowe")})).catch((function(e){console.log("Błąd",e),alert("Coś poszło nie tak!")}))},savePassword:function(){if(this.isCorrectPassword1&&this.isCorrectPassword2&&0!==this.oldPassword.length&&0!==this.newPassword.length){var e={userId:this.$store.state.userId,oldPassword:this.oldPassword,newPassword:this.newPassword},t="http://localhost:8080/api/users/"+this.$store.state.userId+"/password";fetch(t,{method:"POST",body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),alert("Zmieniono hasło")})).catch((function(e){console.log("Błąd",e),console.log("Coś poszło nie tak z requestem: ",t)}))}},saveEmail:function(){if(this.isCorrectEmail1&&this.isCorrectEmail2&&0!==this.oldEmail.length&&0!==this.newEmail.length){var e={userId:this.$store.state.userId,oldEmail:this.oldEmail,newEmail:this.newEmail},t="http://localhost:8080/api/users/"+this.$store.state.userId+"/email";fetch(t,{method:"POST",body:JSON.stringify(e)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),alert("Zmieniono email")})).catch((function(e){console.log("Błąd",e),console.log("Coś poszło nie tak z requestem: ",t)}))}},deleteAccount:function(){var e="http://localhost:8080/api/users/"+this.$store.state.userId;fetch(e,{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),alert("Konto zostało usunięte!")})).catch((function(t){console.log("Błąd",t),console.log("Coś poszło nie tak z requestem: ",e)}))},toggleContentIsVisible:function(e){this.contentIsVisible[e]=!this.contentIsVisible[e];var t=document.getElementsByClassName("settings__content")[e];t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"},validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},validatePassword:function(e){var t=/^.{6,}$/;return t.test(e)},validateMin3Char:function(e){var t=/^.{3,}$/;return t.test(e)},validatePhone:function(){var e=/^[0-9]{9}$/;this.isCorrectPhone=e.test(this.phone)}}};o("873e");X.render=Q,X.__scopeId="data-v-4252b79c";var Y=X,ee=o("fd2d"),te={name:"Ustawienia",components:{Navbar:i["a"],Settings:Y,Footer:ee["a"]}};te.render=a;t["default"]=te}}]);
//# sourceMappingURL=chunk-da4d9e1a.16d9f154.js.map