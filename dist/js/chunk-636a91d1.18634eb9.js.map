{"version":3,"sources":["webpack:///./src/components/Zaloguj.vue?3a35","webpack:///./src/views/Logowanie.vue","webpack:///./src/components/Zaloguj.vue","webpack:///./src/components/Zaloguj.vue?4004","webpack:///./src/views/Logowanie.vue?063c"],"names":["class","style","isCorrectEmail","for","logIn","validateEmail","email","name","type","placeholder","isCorrectPassword","validatePassword","password","autocomplete","loading","to","data","didInputChanged","store","methods","onSubmit","this","obj","url","fetch","method","body","JSON","stringify","then","response","ok","json","Error","status","console","log","alert","$store","commit","userId","$router","push","catch","error","getLogged","state","logged","re","test","render","__scopeId","components","Navbar","Zaloguj","Footer","mounted","document","title","window","scrollTo"],"mappings":"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","file":"js/chunk-636a91d1.18634eb9.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Zaloguj.vue?vue&type=style&index=0&id=9c06a82e&scoped=true&lang=scss\"","<template>\r\n  <div class=\"zaloguj\">\r\n    <Navbar/>\r\n    <Zaloguj/>\r\n    <Footer/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar.vue'\r\nimport Zaloguj from '@/components/Zaloguj.vue'\r\nimport Footer from '@/components/Footer.vue'\r\n\r\nexport default {\r\n  name: 'Logowanie',\r\n  components: {\r\n    Navbar,\r\n    Zaloguj,\r\n    Footer\r\n  },\r\n  mounted(){\r\n    \r\n\r\n    if(this.$store.state.logged){\r\n      this.$router.push(\"/\");\r\n    }\r\n    else{\r\n      document.title = \"Logowanie - wdmj.pl\";\r\n      window.scrollTo(0,0);\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n    <div class=\"login\">\r\n        <h1>Zaloguj się</h1>\r\n        <form v-on:submit.prevent class=\"login__email\">\r\n            <label :class=\"{'wrong-email': !isCorrectEmail}\" class=\"login__email__label\" for=\"email\">Adres e-mail<span style=\"color: red;\">*</span></label>\r\n            <input @keyup.enter=\"logIn\" @change=\"validateEmail\"  v-model=\"email\" class=\"login__email__input\" name=\"email\" type=\"text\" placeholder=\"Adres e-mail\">\r\n        </form>\r\n\r\n        <form v-on:submit.prevent class=\"login__password\">\r\n            <label :class=\"{'wrong-password': !isCorrectPassword}\" class=\"login__password__label\" for=\"password\">Hasło<span style=\"color: red;\">*</span></label>\r\n            <input @keyup.enter=\"logIn\" @change=\"validatePassword\" v-model=\"password\" class=\"login__password__input\" name=\"password\" type=\"password\" placeholder=\"Hasło\" autocomplete=\"on\">\r\n        </form>\r\n\r\n        <p class=\"login__reset\">Nie pamiętam hasła</p>\r\n\r\n        <button @click=\"logIn\" class=\"login__btn\">\r\n            <i v-if=\"loading\" class=\"fas fa-spinner fa-spin fa-lg\"></i>\r\n            <span v-if=\"!loading\">Zaloguj się</span>\r\n        </button>\r\n\r\n        <p class=\"login__register\">Nie masz konta na wdmj.pl? \r\n            <router-link to=\"/rejestracja\">\r\n                <span style=\"font-weight:600\">Zarejestruj się</span>\r\n            </router-link>\r\n        </p>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { createStore } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Zaloguj',\r\n  data(){\r\n      return{\r\n          email: '',\r\n          password: '',\r\n          isCorrectEmail: true,\r\n          isCorrectPassword: true,\r\n          didInputChanged: false,\r\n          loading: false,\r\n      }\r\n  },\r\n  store: createStore,\r\n  methods:{\r\n    //logowanie\r\n    onSubmit(){\r\n\r\n    },\r\n    logIn(){\r\n        if(this.isCorrectEmail && this.isCorrectPassword && this.didInputChanged){\r\n            this.loading = true;\r\n            let obj = {\r\n                email: this.email,\r\n                password: this.password\r\n            }\r\n\r\n            let url = 'http://localhost:8080/api/auth/signin';\r\n            //request\r\n            fetch(url, {\r\n                method: 'POST',\r\n                body: JSON.stringify(obj)\r\n            })\r\n            .then(response => {\r\n                if(!response.ok) {\r\n                    throw new Error(response.status);\r\n                }\r\n                else \r\n                    return response.json();\r\n            })\r\n            .then(response => {\r\n                this.loading = false;\r\n                //wyswietl zwrocone dane\r\n                console.log('Sukces. Odebrane dane ', response);\r\n                alert(\"Udało się zalogować!\");\r\n                //przekieruj na strone startową\r\n                this.$store.commit('logged', true);\r\n                this.$store.commit('userId', response.userId);\r\n                this.$store.commit('userEmail', response.email);\r\n                this.$router.push(\"/\");\r\n                \r\n            })\r\n            .catch((error) => {\r\n                this.loading = false;\r\n                console.log('Błąd', error);\r\n                alert(\"Nie udało się zalogować!\");\r\n            })\r\n        }\r\n\r\n        else{\r\n            alert(\"Dane nie przeszły walidacji!\");\r\n        }\r\n\r\n        \r\n    },\r\n\r\n    getLogged(){\r\n      return this.$store.state.logged;\r\n    },\r\n    \r\n    //walidacja email\r\n    validateEmail: function() {\r\n        this.didInputChanged = true;\r\n        //eslint-disable-next-line\r\n        let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        this.isCorrectEmail = re.test(this.email);\r\n    },\r\n\r\n    //walidacja username\r\n    // validateUsername: function () {\r\n    //     let re = /^.{6,}$/;\r\n    //     this.isCorrectUsername = re.test(this.username);\r\n    // },\r\n\r\n    //walidacja password\r\n    validatePassword: function () {\r\n        this.didInputChanged = true;\r\n        let re = /^.{6,}$/;\r\n        this.isCorrectPassword = re.test(this.password);\r\n    },\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\r\n//komunikat bledny email\r\n.wrong-email::before {\r\n  content: 'Podano błędny adres e-mail';\r\n  position: absolute;\r\n  top: 72px;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  color: #df0000;\r\n}\r\n\r\n//komunikat bledne password\r\n.wrong-password::before {\r\n  content: 'Hasło musi mieć minimum 6 znaków';\r\n  position: absolute;\r\n  top: 72px;\r\n  font-size: 12px;\r\n  font-weight: 400;\r\n  color: #df0000;\r\n}\r\n\r\n.login{\r\n    // box-shadow: 0px 2px 9px 1px rgba(0,0,0,0.75);\r\n    box-shadow: 0px 0px 9px -5px rgba(0,0,0,0.75);\r\n    width: 400px;\r\n    // height: 500px;\r\n    padding: 70px 40px 40px;\r\n    margin: 70px auto;\r\n\r\n    h1{\r\n        padding: 0;\r\n        margin: 0;\r\n        margin-bottom: 40px;\r\n        text-align: left;\r\n        font-weight: 400;\r\n    }\r\n\r\n    &__email, &__password{\r\n        label{\r\n            position: relative;\r\n            display: block;\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n            margin-top: 30px;\r\n            margin-bottom:8px;\r\n        }\r\n\r\n        input{\r\n            width:100%;\r\n            outline: none;\r\n            border: none;\r\n            border-radius: 4px;\r\n            padding: 10px 10px;\r\n            font-size: 16px;\r\n            background-color: #F3F3F3;\r\n            \r\n            &:focus{\r\n                outline: 1px solid #007E33;\r\n            }\r\n        }\r\n    }\r\n\r\n    &__reset{\r\n        color:#454545;\r\n        margin-top:30px;\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        cursor: pointer;\r\n        &:hover{\r\n            color: black;\r\n        }\r\n    }\r\n\r\n    &__btn{\r\n        width:100%;\r\n        background-color: #007E33;\r\n        color: white;\r\n        font-size: 14px;\r\n        border-radius: 7px;\r\n        padding: 10px 30px;\r\n        margin-top: 30px;\r\n        outline: none;\r\n        border: none;\r\n        cursor: pointer;\r\n\r\n        &:hover{\r\n        background-color: #006428;\r\n        transition: background-color .5s;\r\n        }\r\n    }\r\n    \r\n    &__register{\r\n        font-size: 12px;\r\n        font-weight: 500;\r\n        text-align: center;\r\n        margin-top: 30px;\r\n    }\r\n}\r\n\r\n@media(max-width: 410px){\r\n    .login{\r\n        box-shadow: none;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media(max-width: 360px){\r\n    .login{\r\n        padding: 70px 20px 40px;\r\n    }\r\n}\r\n</style>\r\n","import { render } from \"./Zaloguj.vue?vue&type=template&id=9c06a82e&scoped=true\"\nimport script from \"./Zaloguj.vue?vue&type=script&lang=js\"\nexport * from \"./Zaloguj.vue?vue&type=script&lang=js\"\n\nimport \"./Zaloguj.vue?vue&type=style&index=0&id=9c06a82e&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-9c06a82e\"\n\nexport default script","import { render } from \"./Logowanie.vue?vue&type=template&id=e174ab9a\"\nimport script from \"./Logowanie.vue?vue&type=script&lang=js\"\nexport * from \"./Logowanie.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}