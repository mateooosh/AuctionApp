(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6578d21e"],{"23b6":function(t,e,n){},2532:function(t,e,n){"use strict";var a=n("23e7"),c=n("5a34"),o=n("1d80"),i=n("ab13");a({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(o(this)).indexOf(c(t),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),c=n("825a"),o=n("d039"),i=n("ad6d"),u="toString",s=RegExp.prototype,r=s[u],l=o((function(){return"/a/b"!=r.call({source:"a",flags:"b"})})),d=r.name!=u;(l||d)&&a(RegExp.prototype,u,(function(){var t=c(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in s)?i.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"37f4":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),c=Object(a["I"])("data-v-16a2b9ae");Object(a["t"])("data-v-16a2b9ae");var o={class:"dashboard"};Object(a["r"])();var i=c((function(t,e,n,c,i,u){var s=Object(a["y"])("DashboardNav"),r=Object(a["y"])("AukcjeAdmin");return Object(a["q"])(),Object(a["d"])("div",o,[Object(a["h"])(s,{style:{flex:"350px"},active:"aukcje"}),Object(a["h"])(r)])})),u=n("5502"),s=n("437f"),r=Object(a["I"])("data-v-7cb7f5e4");Object(a["t"])("data-v-7cb7f5e4");var l=Object(a["h"])("h1",null,"Aukcje",-1),d={class:"details"},b=Object(a["h"])("section",{class:"headers"},[Object(a["h"])("div",null,"ID Aukcji"),Object(a["h"])("div",null,"Tytuł"),Object(a["h"])("div",null,"Kategoria"),Object(a["h"])("div",null,"Rozpoczęcie"),Object(a["h"])("div",null,"Zakończenie"),Object(a["h"])("div",null,"E-mail sprzedającego"),Object(a["h"])("div",null,"Stan aukcji"),Object(a["h"])("div",null,"Akcje")],-1),h={key:0},j={key:1},f={key:0,class:"modal"},O=Object(a["h"])("div",{class:"modal__background"},null,-1),v={class:"modal__card"},m={class:"modal__header"},k={class:"modal__body"},p={class:"modal__footer"};Object(a["r"])();var w=r((function(t,e,n,c,o,i){var u=Object(a["y"])("TableAukcje");return Object(a["q"])(),Object(a["d"])("section",null,[l,Object(a["F"])(Object(a["h"])("input",{class:"search__input",onKeyup:e[1]||(e[1]=function(t){return i.searchInAuctions(o.query)}),type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.query=t}),placeholder:"Szukaj"},null,544),[[a["D"],o.query]]),Object(a["h"])("div",d,[b,o.query.length<1?(Object(a["q"])(),Object(a["d"])("div",h,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(o.auctions,(function(t,e){return Object(a["q"])(),Object(a["d"])("div",{key:t},[Object(a["h"])(u,{onEnd:i.showModal,onStart:i.showModal2,auction:t,i:e},null,8,["onEnd","onStart","auction","i"])])})),128))])):Object(a["e"])("",!0),o.query.length>0?(Object(a["q"])(),Object(a["d"])("div",j,[(Object(a["q"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(o.auctions2,(function(t,e){return Object(a["q"])(),Object(a["d"])("div",{key:t},[Object(a["h"])(u,{onEnd:i.showModal,onStart:i.showModal2,auction:t,i:e},null,8,["onEnd","onStart","auction","i"])])})),128))])):Object(a["e"])("",!0)]),o.modalIsVisible?(Object(a["q"])(),Object(a["d"])("section",f,[O,Object(a["h"])("div",v,[Object(a["h"])("div",m,[Object(a["h"])("p",null,Object(a["A"])(o.modalTitle),1),Object(a["h"])("button",{onClick:e[3]||(e[3]=function(t){return o.modalIsVisible=!1}),class:"modal__delete"})]),Object(a["h"])("section",k,Object(a["A"])(o.modalBody),1),Object(a["h"])("div",p,[Object(a["h"])("button",{onClick:e[4]||(e[4]=function(t){return o.modalIsVisible=!1}),class:"modal__btn"},"Anuluj"),"w trakcie"==o.auctionStatus?(Object(a["q"])(),Object(a["d"])("button",{key:0,onClick:e[5]||(e[5]=function(){return i.end.apply(i,arguments)}),class:"modal__btn"},Object(a["A"])(o.modalBtn),1)):Object(a["e"])("",!0),"zakończona"==o.auctionStatus?(Object(a["q"])(),Object(a["d"])("button",{key:1,onClick:e[6]||(e[6]=function(){return i.start.apply(i,arguments)}),class:"modal__btn"},Object(a["A"])(o.modalBtn),1)):Object(a["e"])("",!0)])])])):Object(a["e"])("",!0)])})),y=(n("caad"),n("d3b7"),n("25f0"),n("2532"),Object(a["I"])("data-v-37b6814e")),g=y((function(t,e,n,c,o,i){return Object(a["q"])(),Object(a["d"])("section",{class:[{even:n.i%2==1},"table"]},[Object(a["h"])("div",null,Object(a["A"])(n.auction.auctionId),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.auctionName),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.category),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.startDate),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.endDate),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.email),1),Object(a["h"])("div",null,Object(a["A"])(n.auction.auctionStatus),1),Object(a["h"])("div",null,[Object(a["h"])("i",{onClick:e[1]||(e[1]=function(e){return t.$emit("end",n.auction.auctionId,n.auction.auctionStatus)}),style:{margin:"0 5px"},class:[{disabled:"w trakcie"!==n.auction.auctionStatus},"fas fa-trash-alt fa-lg"]},null,2),Object(a["h"])("i",{onClick:e[2]||(e[2]=function(e){return t.$emit("start",n.auction.auctionId,n.auction.auctionStatus)}),style:{margin:"0 5px"},class:[{disabled:"zakończona"!==n.auction.auctionStatus},"fas fa-undo-alt fa-lg"]},null,2),Object(a["h"])("i",{onClick:e[3]||(e[3]=function(){return i.pushToAuction.apply(i,arguments)}),style:{margin:"0 5px"},class:"far fa-eye fa-lg"})])],2)})),z=(n("a9e3"),{name:"TableKlienci",props:{i:Number,auction:Object},methods:{pushToAuction:function(){var t=this.$router.resolve("/oferta/".concat(this.auction.auctionId));window.open(t.href,"_blank")}},mounted:function(){}});n("9883");z.render=g,z.__scopeId="data-v-37b6814e";var A=z,_={name:"AukcjeAdmin",components:{TableAukcje:A},data:function(){return{auctions:[],auctions2:[],auctionToDo:0,auctionStatus:"",query:"",modalIsVisible:!1,modalTitle:"Zakończenie aukcji",modalBody:"Czy na pewno chcesz zakończyć aukcję?",modalBtn:"Zakończ aukcję"}},mounted:function(){"ROLE_ADMIN"===this.$store.state.role?this.getAuctions():this.$router.push("/")},watch:{},methods:{getAuctions:function(){var t=this,e="http://localhost:8080/api/admin/auctions";fetch(e).then((function(t){return t.json()})).then((function(e){console.log(e);for(var n=0;n<e.length;n++)e[n].startDate=e[n].startDate.substr(0,10),e[n].endDate=e[n].endDate.substr(0,10);t.auctions=e})).catch((function(t){return console.error("Coś poszło nie tak",t)}))},showModal:function(t,e){"w trakcie"===e&&(this.modalTitle="Zakończenie aukcji",this.modalBody="Czy na pewno chcesz zakończyć aukcję?",this.modalBtn="Zakończ aukcję",this.modalIsVisible=!0,this.auctionToDo=t,this.auctionStatus=e)},showModal2:function(t,e){"zakończona"===e&&(this.modalTitle="Wznowienie aukcji",this.modalBody="Czy na pewno chcesz wznowić aukcję?",this.modalBtn="Wznów aukcję",this.modalIsVisible=!0,this.auctionToDo=t,this.auctionStatus=e)},end:function(){var t=this;if("w trakcie"===this.auctionStatus){var e="http://localhost:8080/api/admin/auctions/".concat(this.auctionToDo,"/end");fetch(e,{method:"POST"}).then((function(t){if(t.ok)return t.json();throw new Error(t.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),t.modalIsVisible=!1,alert("Aukcja została zakończona"),t.getAuctions()})).catch((function(e){console.log("Błąd",e),t.modalIsVisible=!1,alert("Nie udało się zakończyć aukcji!")}))}},start:function(){var t=this;if("zakończona"===this.auctionStatus){var e="http://localhost:8080/api/admin/auctions/".concat(this.auctionToDo,"/start");fetch(e,{method:"POST"}).then((function(t){if(t.ok)return t.json();throw new Error(t.status)})).then((function(e){console.log("Sukces. Odebrane dane ",e),alert("Aukcja została wznowiona"),t.modalIsVisible=!1,t.getAuctions()})).catch((function(e){console.log("Błąd",e),t.modalIsVisible=!1,alert("Nie udało się wznowić aukcji!")}))}},searchInAuctions:function(t){if(this.auctions2=[],t){for(var e=0;e<this.auctions.length;e++)(this.auctions[e].auctionName.toLowerCase().includes(t.toLowerCase())||this.auctions[e].category.toLowerCase().includes(t.toLowerCase())||this.auctions[e].startDate.toLowerCase().includes(t.toLowerCase())||this.auctions[e].endDate.toLowerCase().includes(t.toLowerCase())||this.auctions[e].email.toLowerCase().includes(t.toLowerCase())||this.auctions[e].auctionStatus.toLowerCase().includes(t.toLowerCase())||this.auctions[e].auctionId.toString().includes(t.toLowerCase()))&&this.auctions2.push(this.auctions[e]);console.log("auctions2:",this.auctions2)}else console.log("empty")}}};n("fde5");_.render=w,_.__scopeId="data-v-7cb7f5e4";var S=_,C={name:"AdminAukcje",store:u["a"],components:{DashboardNav:s["a"],AukcjeAdmin:S},mounted:function(){"ROLE_ADMIN"!==this.$store.state.role&&(alert("Aby korzystać z panelu admina, najpierw musisz nim być"),this.$router.push("/"))}};n("cfa4");C.render=i,C.__scopeId="data-v-16a2b9ae";e["default"]=C},"437f":function(t,e,n){"use strict";var a=n("7a23"),c=Object(a["I"])("data-v-0474a542");Object(a["t"])("data-v-0474a542");var o={class:"menu"},i=Object(a["h"])("div",{class:"menu__header"}," Panel Administratora ",-1);Object(a["r"])();var u=c((function(t,e,n,c,u,s){return Object(a["q"])(),Object(a["d"])("section",o,[i,Object(a["h"])("div",null,[Object(a["h"])("div",{onClick:e[1]||(e[1]=function(e){return t.$router.push("/admin")}),class:[{active:"klienci"==n.active},"menu__option"]},"Klienci",2),Object(a["h"])("div",{onClick:e[2]||(e[2]=function(e){return t.$router.push("/admin/aukcje")}),class:[{active:"aukcje"==n.active},"menu__option"]},"Aukcje",2)])])})),s={name:"DashboardNav",props:{active:String},methods:{},mounted:function(){}};n("7169");s.render=u,s.__scopeId="data-v-0474a542";e["a"]=s},"44e7":function(t,e,n){var a=n("861d"),c=n("c6b6"),o=n("b622"),i=o("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==c(t))}},5031:function(t,e,n){},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},7169:function(t,e,n){"use strict";n("8a29")},"8a29":function(t,e,n){},9883:function(t,e,n){"use strict";n("23b6")},"9a97":function(t,e,n){},ab13:function(t,e,n){var a=n("b622"),c=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[c]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,n){"use strict";var a=n("23e7"),c=n("4d64").includes,o=n("44d2"),i=n("ae40"),u=i("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!u},{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cfa4:function(t,e,n){"use strict";n("5031")},fde5:function(t,e,n){"use strict";n("9a97")}}]);
//# sourceMappingURL=chunk-6578d21e.3b2e3245.js.map