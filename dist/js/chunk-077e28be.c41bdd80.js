(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-077e28be"],{2610:function(e,t,a){},b1eb:function(e,t,a){"use strict";a("2610")},ea9a:function(e,t,a){"use strict";a.r(t);var o=a("7a23"),n={class:"zaloguj"};function s(e,t,a,s,r,i){var c=Object(o["v"])("Navbar"),l=Object(o["v"])("Zaloguj"),d=Object(o["v"])("Footer");return Object(o["p"])(),Object(o["c"])("div",n,[Object(o["g"])(c),Object(o["g"])(l),Object(o["g"])(d)])}var r=a("d178"),i=Object(o["F"])("data-v-7981b9de");Object(o["s"])("data-v-7981b9de");var c={class:"login"},l=Object(o["g"])("h1",null,"Zaloguj się",-1),d=Object(o["f"])("Adres e-mail"),u=Object(o["g"])("span",{style:{color:"red"}},"*",-1),p=Object(o["f"])("Hasło"),b=Object(o["g"])("span",{style:{color:"red"}},"*",-1),g=Object(o["g"])("p",{class:"login__reset"},"Nie pamiętam hasła",-1),j={class:"login__register"},m=Object(o["f"])("Nie masz konta na wdmj.pl? "),O=Object(o["g"])("span",{style:{"font-weight":"600"}},"Zarejestruj się",-1);Object(o["q"])();var f=i((function(e,t,a,n,s,r){var f=Object(o["v"])("router-link");return Object(o["p"])(),Object(o["c"])("div",c,[l,Object(o["g"])("form",{onSubmit:t[4]||(t[4]=Object(o["E"])((function(){}),["prevent"])),class:"login__email"},[Object(o["g"])("label",{class:[{"wrong-email":!s.isCorrectEmail},"login__email__label"],for:"email"},[d,u],2),Object(o["C"])(Object(o["g"])("input",{onKeyup:t[1]||(t[1]=Object(o["D"])((function(){return r.logIn.apply(r,arguments)}),["enter"])),onChange:t[2]||(t[2]=function(){return r.validateEmail.apply(r,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.email=e}),class:"login__email__input",name:"email",type:"text",placeholder:"Adres e-mail"},null,544),[[o["A"],s.email]])],32),Object(o["g"])("form",{onSubmit:t[8]||(t[8]=Object(o["E"])((function(){}),["prevent"])),class:"login__password"},[Object(o["g"])("label",{class:[{"wrong-password":!s.isCorrectPassword},"login__password__label"],for:"password"},[p,b],2),Object(o["C"])(Object(o["g"])("input",{onKeyup:t[5]||(t[5]=Object(o["D"])((function(){return r.logIn.apply(r,arguments)}),["enter"])),onChange:t[6]||(t[6]=function(){return r.validatePassword.apply(r,arguments)}),"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.password=e}),class:"login__password__input",name:"password",type:"password",placeholder:"Hasło",autocomplete:"on"},null,544),[[o["A"],s.password]])],32),g,Object(o["g"])("button",{onClick:t[9]||(t[9]=function(){return r.logIn.apply(r,arguments)}),class:"login__btn"},"Zaloguj się"),Object(o["g"])("p",j,[m,Object(o["g"])(f,{to:"/rejestracja"},{default:i((function(){return[O]})),_:1})])])})),h=(a("d3b7"),a("5502")),w={name:"Zaloguj",data:function(){return{email:"",password:"",isCorrectEmail:!0,isCorrectPassword:!0,didInputChanged:!1}},store:h["a"],methods:{onSubmit:function(){},logIn:function(){var e=this;if(this.isCorrectEmail&&this.isCorrectPassword&&this.didInputChanged){var t={email:this.email,password:this.password},a="http://localhost:8080/api/auth/signin";fetch(a,{method:"POST",body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),e.$store.commit("logged",!0),e.$store.commit("userId",t.userId),e.$router.push("/")})).catch((function(e){console.log("Błąd",e),alert("Nie udało się zalogować!")}))}else alert("Dane nie przeszły walidacji!")},getLogged:function(){return this.$store.state.logged},validateEmail:function(){this.didInputChanged=!0;var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.isCorrectEmail=e.test(this.email)},validatePassword:function(){this.didInputChanged=!0;var e=/^.{6,}$/;this.isCorrectPassword=e.test(this.password)}}};a("b1eb");w.render=f,w.__scopeId="data-v-7981b9de";var _=w,v=a("fd2d"),C={name:"Logowanie",components:{Navbar:r["a"],Zaloguj:_,Footer:v["a"]}};C.render=s;t["default"]=C}}]);
//# sourceMappingURL=chunk-077e28be.c41bdd80.js.map