(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-89086b18"],{2532:function(e,t,o){"use strict";var n=o("23e7"),i=o("5a34"),a=o("1d80"),s=o("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"2d9a":function(e,t,o){},3530:function(e,t,o){"use strict";o.r(t);var n=o("7a23"),i=Object(n["I"])("data-v-70b4c080");Object(n["t"])("data-v-70b4c080");var a={class:"dashboard"};Object(n["r"])();var s=i((function(e,t,o,i,s,c){var r=Object(n["y"])("DashboardNav"),l=Object(n["y"])("KlienciAdmin"),u=Object(n["y"])("Footer");return Object(n["q"])(),Object(n["d"])("div",a,[Object(n["h"])(r,{style:{flex:"350px"},active:"klienci"}),Object(n["h"])(l),Object(n["h"])(u)])})),c=o("5502"),r=o("437f"),l=Object(n["I"])("data-v-71b02d35");Object(n["t"])("data-v-71b02d35");var u=Object(n["h"])("h1",null,"Klienci",-1),d={class:"details"},b=Object(n["h"])("section",{class:"headers"},[Object(n["h"])("div",null,"ID Klienta"),Object(n["h"])("div",null,"Imię"),Object(n["h"])("div",null,"Nazwisko"),Object(n["h"])("div",null,"Adres e-mail"),Object(n["h"])("div",null,"Miejscowość"),Object(n["h"])("div",null,"Województwo"),Object(n["h"])("div",null,"Telefon"),Object(n["h"])("div",null,"Akcje")],-1),h={key:0},m={key:1},p={key:0,class:"edit"},j=Object(n["h"])("div",{class:"edit__background"},null,-1),v={class:"edit__card"},O={class:"edit__header"},f=Object(n["h"])("p",null,"Zmiana danych użytkownika",-1),_={class:"edit__body"},k=Object(n["g"])("E-mail"),w=Object(n["h"])("span",{style:{color:"red"}},"*",-1),y=Object(n["g"])("Imię"),C=Object(n["h"])("span",{style:{color:"red"}},"*",-1),g=Object(n["g"])("Nazwisko"),I=Object(n["h"])("span",{style:{color:"red"}},"*",-1),z=Object(n["g"])("Lokalizacja"),E=Object(n["h"])("span",{style:{color:"red"}},"*",-1),A=Object(n["h"])("label",{class:"edit__province__label",for:"province"},[Object(n["g"])("Województwo"),Object(n["h"])("span",{style:{color:"red"}},"*")],-1),L=Object(n["f"])('<option value="" disabled selected data-v-71b02d35>Wybierz...</option><option value="dolnośląskie" data-v-71b02d35>dolnośląskie</option><option value="kujawsko-pomorskie" data-v-71b02d35>kujawsko-pomorskie</option><option value="lubelskie" data-v-71b02d35>lubelskie</option><option value="lubuskie" data-v-71b02d35>lubuskie</option><option value="łódzkie" data-v-71b02d35>łódzkie</option><option value="małopolskie" data-v-71b02d35>małopolskie</option><option value="mazowieckie" data-v-71b02d35>mazowieckie</option><option value="opolskie" data-v-71b02d35>opolskie</option><option value="podkarpackie" data-v-71b02d35>podkarpackie</option><option value="podlaskie" data-v-71b02d35>podlaskie</option><option value="pomorskie" data-v-71b02d35>pomorskie</option><option value="śląskie" data-v-71b02d35>śląskie</option><option value="świętokrzyskie" data-v-71b02d35>świętokrzyskie</option><option value="warmińsko-mazurskie" data-v-71b02d35>warmińsko-mazurskie</option><option value="wielkopolskie" data-v-71b02d35>wielkopolskie</option><option value="zachodniopomorskie" data-v-71b02d35>zachodniopomorskie</option>',17),q=Object(n["g"])("Numer telefonu"),T=Object(n["h"])("span",{style:{color:"red"}},"*",-1),V={class:"modal__footer"},D={key:1,class:"modal"},x=Object(n["h"])("div",{class:"modal__background"},null,-1),S={class:"modal__card"},U={class:"modal__header"},R=Object(n["h"])("p",null,"Blokowanie użytkownika ",-1),P=Object(n["h"])("section",{class:"modal__body"}," Czy na pewno chcesz zablokować tego użytkownika? ",-1),M={class:"modal__footer"};Object(n["r"])();var F=l((function(e,t,o,i,a,s){var c=Object(n["y"])("TableKlienci");return Object(n["q"])(),Object(n["d"])("section",null,[u,Object(n["F"])(Object(n["h"])("input",{class:"search__input",onKeyup:t[1]||(t[1]=function(e){return s.searchInUsers(a.query)}),type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return a.query=e}),placeholder:"Szukaj"},null,544),[[n["D"],a.query]]),Object(n["h"])("div",d,[b,a.query.length<1?(Object(n["q"])(),Object(n["d"])("div",h,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.users,(function(e,t){return Object(n["q"])(),Object(n["d"])("div",{key:e},[Object(n["h"])(c,{onRemove:s.showModalRemove,onEdit:s.showModalEdit,user:e,i:t},null,8,["onRemove","onEdit","user","i"])])})),128))])):Object(n["e"])("",!0),a.query.length>0?(Object(n["q"])(),Object(n["d"])("div",m,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(a.users2,(function(e,t){return Object(n["q"])(),Object(n["d"])("div",{key:e},[Object(n["h"])(c,{onRemove:s.showModalRemove,onEdit:s.showModalEdit,user:e,i:t},null,8,["onRemove","onEdit","user","i"])])})),128))])):Object(n["e"])("",!0)]),a.modalEditIsVisible?(Object(n["q"])(),Object(n["d"])("section",p,[j,Object(n["h"])("div",v,[Object(n["h"])("div",O,[f,Object(n["h"])("button",{onClick:t[3]||(t[3]=function(e){return a.modalEditIsVisible=!1}),class:"edit__delete"})]),Object(n["h"])("section",_,[Object(n["h"])("form",{onSubmit:t[6]||(t[6]=Object(n["H"])((function(){}),["prevent"])),class:"edit__email"},[Object(n["h"])("label",{class:[{"wrong-email":!a.isCorrectEmail},"edit__email__label"],for:"email"},[k,w],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.email=e}),onChange:t[5]||(t[5]=function(e){return a.isCorrectEmail=s.validateEmail(a.email)}),class:"edit__email__input",name:"email",type:"text",placeholder:"E-mail"},null,544),[[n["D"],a.email]])],32),Object(n["h"])("form",{onSubmit:t[9]||(t[9]=Object(n["H"])((function(){}),["prevent"])),class:"edit__firstname"},[Object(n["h"])("label",{class:[{"wrong-firstname":!a.isCorrectFirstname},"edit__firstname__label"],for:"firstname"},[y,C],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.firstname=e}),onChange:t[8]||(t[8]=function(e){return a.isCorrectFirstname=s.validateMin3Char(a.firstname)}),class:"edit__firstname__input",name:"firstname",type:"text",placeholder:"Imię"},null,544),[[n["D"],a.firstname]])],32),Object(n["h"])("form",{onSubmit:t[12]||(t[12]=Object(n["H"])((function(){}),["prevent"])),class:"edit__lastname"},[Object(n["h"])("label",{class:[{"wrong-lastname":!a.isCorrectLastname},"edit__lastname__label"],for:"lastname"},[g,I],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return a.lastname=e}),onChange:t[11]||(t[11]=function(e){return a.isCorrectLastname=s.validateMin3Char(a.lastname)}),class:"edit__lastname__input",name:"lastname",type:"text",placeholder:"Nazwisko"},null,544),[[n["D"],a.lastname]])],32),Object(n["h"])("form",{onSubmit:t[15]||(t[15]=Object(n["H"])((function(){}),["prevent"])),class:"edit__location"},[Object(n["h"])("label",{class:[{"wrong-location":!a.isCorrectLocation},"edit__location__label"],for:"location"},[z,E],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return a.location=e}),onChange:t[14]||(t[14]=function(e){return a.isCorrectLocation=s.validateMin3Char(a.location)}),class:"edit__location__input",name:"location",type:"text",placeholder:"Miejscowość"},null,544),[[n["D"],a.location]])],32),Object(n["h"])("form",{onSubmit:t[18]||(t[18]=Object(n["H"])((function(){}),["prevent"])),class:"edit__province"},[A,Object(n["F"])(Object(n["h"])("select",{onChange:t[16]||(t[16]=function(e){return a.isCorrectProvince=!0}),"onUpdate:modelValue":t[17]||(t[17]=function(e){return a.province=e}),class:"edit__province__select",name:"province"},[L],544),[[n["C"],a.province]])],32),Object(n["h"])("form",{onSubmit:t[21]||(t[21]=Object(n["H"])((function(){}),["prevent"])),class:"edit__phone"},[Object(n["h"])("label",{class:[{"wrong-phone":!a.isCorrectPhone},"edit__phone__label"],for:"phone"},[q,T],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return a.phone=e}),onChange:t[20]||(t[20]=function(e){return a.isCorrectPhone=s.validatePhone(a.phone)}),class:"edit__phone__input",name:"phone",type:"text",placeholder:"Numer Telefonu"},null,544),[[n["D"],a.phone]])],32)]),Object(n["h"])("div",V,[Object(n["h"])("button",{onClick:t[22]||(t[22]=function(e){return a.modalEditIsVisible=!1}),class:"modal__btn"},"Anuluj"),Object(n["h"])("button",{onClick:t[23]||(t[23]=function(){return s.editUser.apply(s,arguments)}),class:"modal__btn"},"Zapisz dane użytkownika")])])])):Object(n["e"])("",!0),a.modalRemoveIsVisible?(Object(n["q"])(),Object(n["d"])("section",D,[x,Object(n["h"])("div",S,[Object(n["h"])("div",U,[R,Object(n["h"])("button",{onClick:t[24]||(t[24]=function(e){return a.modalRemoveIsVisible=!1}),class:"modal__delete"})]),P,Object(n["h"])("div",M,[Object(n["h"])("button",{onClick:t[25]||(t[25]=function(e){return a.modalRemoveIsVisible=!1}),class:"modal__btn"},"Anuluj"),Object(n["h"])("button",{onClick:t[26]||(t[26]=function(){return s.removeUser.apply(s,arguments)}),class:"modal__btn"},"Zablokuj użytkownika")])])])):Object(n["e"])("",!0)])})),K=(o("caad"),o("d3b7"),o("2532"),Object(n["I"])("data-v-d824470c"));Object(n["t"])("data-v-d824470c");var N={key:0},$={key:1};Object(n["r"])();var Z=K((function(e,t,o,i,a,s){return Object(n["q"])(),Object(n["d"])("section",{class:[{even:o.i%2==1},"table"]},[Object(n["h"])("div",null,Object(n["A"])(o.user.userId),1),Object(n["h"])("div",null,Object(n["A"])(o.user.firstname),1),Object(n["h"])("div",null,Object(n["A"])(o.user.lastname),1),Object(n["h"])("div",null,Object(n["A"])(o.user.email),1),Object(n["h"])("div",null,Object(n["A"])(o.user.location),1),Object(n["h"])("div",null,Object(n["A"])(o.user.province),1),Object(n["h"])("div",null,Object(n["A"])(o.user.phone),1),o.user.active?(Object(n["q"])(),Object(n["d"])("div",N,[Object(n["h"])("i",{onClick:t[1]||(t[1]=function(t){return e.$emit("remove",o.user.userId)}),class:"fas fa-lock fa-lg",style:{margin:"0 5px"}}),Object(n["h"])("i",{onClick:t[2]||(t[2]=function(t){return e.$emit("edit",o.user)}),class:"fas fa-user-edit fa-lg",style:{margin:"0 5px"}})])):Object(n["e"])("",!0),o.user.active?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",$," Zablokowany "))],2)})),H=(o("a9e3"),{name:"TableKlienci",props:{i:Number,user:Object},methods:{},mounted:function(){console.log(this.user)}});o("7bbb");H.render=Z,H.__scopeId="data-v-d824470c";var B=H,J={name:"KlienciAdmin",components:{TableKlienci:B},data:function(){return{modalRemoveIsVisible:!1,modalEditIsVisible:!1,users:[],users2:[],query:"",userIdToDelete:0,userToEdit:0,email:"",firstname:"",lastname:"",location:"",province:"",phone:"",isCorrectEmail:!0,isCorrectFirstname:!0,isCorrectLastname:!0,isCorrectLocation:!0,isCorrectProvince:!0,isCorrectPhone:!0}},mounted:function(){this.getUsers()},watch:{},methods:{showModalEdit:function(e){this.email=e.email,this.firstname=e.firstname,this.lastname=e.lastname,this.location=e.location,this.province=e.province,this.phone=e.phone,this.userIdToEdit=e.userId,console.log(e),this.modalEditIsVisible=!0},showModalRemove:function(e){this.userIdToDelete=e,this.modalRemoveIsVisible=!0},reset:function(){this.userIdToDelete=0,this.userToEdit=0,this.email="",this.firstname="",this.lastname="",this.location="",this.province="",this.phone=""},getUsers:function(){var e=this,t="http://localhost:8080/api/admin/users";fetch(t).then((function(e){return e.json()})).then((function(t){console.log("Pobrani użytkownicy:",t),e.users=t})).catch((function(e){return console.log("Coś poszło nie tak",e)}))},removeUser:function(){var e=this,t="http://localhost:8080/api/users/"+this.userIdToDelete;console.log(t),fetch(t,{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),alert("Konto zostało zablokowane!"),e.modalRemoveIsVisible=!1,e.reset(),e.getUsers()})).catch((function(e){console.log("Błąd",e),console.log("Coś poszło nie tak z requestem: ",t)}))},editUser:function(){var e=this;if(this.isCorrectEmail&&this.isCorrectFirstname&&this.isCorrectLastname&&this.isCorrectLocation&&this.isCorrectProvince&&this.isCorrectPhone){console.log(this.userIdToEdit);var t="http://localhost:8080/api/admin/users/".concat(this.userIdToEdit,"/personal/change"),o={userId:this.userIdToEdit,email:this.email,firstname:this.firstname,lastname:this.lastname,location:this.location,province:this.province,phone:this.phone};console.log("Przesłany obiekt",o),fetch(t,{method:"POST",body:JSON.stringify(o)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),alert("Zmieniono dane użytkownika"),e.modalEditIsVisible=!1,e.reset(),e.getUsers()})).catch((function(e){console.log("Błąd",e),alert("Coś poszło nie tak!")}))}else alert("Dane nie przeszły walidacji")},searchInUsers:function(e){if(this.users2=[],e){for(var t=0;t<this.users.length;t++)(this.users[t].firstname.toLowerCase().includes(e.toLowerCase())||this.users[t].lastname.toLowerCase().includes(e.toLowerCase())||this.users[t].email.toLowerCase().includes(e.toLowerCase())||this.users[t].location.toLowerCase().includes(e.toLowerCase())||this.users[t].province.toLowerCase().includes(e.toLowerCase())||this.users[t].phone.toLowerCase().includes(e.toLowerCase()))&&this.users2.push(this.users[t]);console.log("users2:",this.users2)}else console.log("empty")},validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},validateMin3Char:function(e){var t=/^.{3,}$/;return t.test(e)},validatePhone:function(e){var t=/^[0-9]{9}$/;return t.test(e)}}};o("4ca4");J.render=F,J.__scopeId="data-v-71b02d35";var W=J,G={name:"DodajOgloszenie",store:c["a"],components:{DashboardNav:r["a"],KlienciAdmin:W},mounted:function(){"ROLE_ADMIN"!==this.$store.state.role?(alert("Aby korzystać z panelu admina, najpierw musisz nim być"),this.$router.push("/")):(document.title="Panel Administratora - wdmj.pl",window.scrollTo(0,0))}};o("a0d8");G.render=s,G.__scopeId="data-v-70b4c080";t["default"]=G},"3e08":function(e,t,o){},"437f":function(e,t,o){"use strict";var n=o("7a23"),i=Object(n["I"])("data-v-0474a542");Object(n["t"])("data-v-0474a542");var a={class:"menu"},s=Object(n["h"])("div",{class:"menu__header"}," Panel Administratora ",-1);Object(n["r"])();var c=i((function(e,t,o,i,c,r){return Object(n["q"])(),Object(n["d"])("section",a,[s,Object(n["h"])("div",null,[Object(n["h"])("div",{onClick:t[1]||(t[1]=function(t){return e.$router.push("/admin")}),class:[{active:"klienci"==o.active},"menu__option"]},"Klienci",2),Object(n["h"])("div",{onClick:t[2]||(t[2]=function(t){return e.$router.push("/admin/aukcje")}),class:[{active:"aukcje"==o.active},"menu__option"]},"Aukcje",2)])])})),r={name:"DashboardNav",props:{active:String},methods:{},mounted:function(){}};o("7169");r.render=c,r.__scopeId="data-v-0474a542";t["a"]=r},"44e7":function(e,t,o){var n=o("861d"),i=o("c6b6"),a=o("b622"),s=a("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"4ca4":function(e,t,o){"use strict";o("3e08")},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},7169:function(e,t,o){"use strict";o("8a29")},"7bbb":function(e,t,o){"use strict";o("2d9a")},"8a29":function(e,t,o){},a0d8:function(e,t,o){"use strict";o("f9e1")},ab13:function(e,t,o){var n=o("b622"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},caad:function(e,t,o){"use strict";var n=o("23e7"),i=o("4d64").includes,a=o("44d2"),s=o("ae40"),c=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},f9e1:function(e,t,o){}}]);
//# sourceMappingURL=chunk-89086b18.093c3344.js.map