(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a6b2162"],{3904:function(e,t,a){},"9e0e":function(e,t,a){"use strict";a("3904")},ea9a:function(e,t,a){"use strict";a.r(t);var o=a("7a23"),n={class:"zaloguj"};function s(e,t,a,s,r,i){var l=Object(o["y"])("Navbar"),c=Object(o["y"])("Zaloguj"),d=Object(o["y"])("Footer");return Object(o["q"])(),Object(o["d"])("div",n,[Object(o["h"])(l),Object(o["h"])(c),Object(o["h"])(d)])}var r=a("d178"),i=Object(o["I"])("data-v-b035b2dc");Object(o["t"])("data-v-b035b2dc");var l={class:"login"},c=Object(o["h"])("h1",null,"Zaloguj się",-1),d=Object(o["g"])("Adres e-mail"),u=Object(o["h"])("span",{style:{color:"red"}},"*",-1),b=Object(o["g"])("Hasło"),p=Object(o["h"])("span",{style:{color:"red"}},"*",-1),h=Object(o["h"])("p",{class:"login__reset"},"Nie pamiętam hasła",-1),j={class:"login__register"},g=Object(o["g"])("Nie masz konta na wdmj.pl? "),m=Object(o["h"])("span",{style:{"font-weight":"600"}},"Zarejestruj się",-1);Object(o["r"])();var O=i((function(e,t,a,n,s,r){var O=Object(o["y"])("router-link");return Object(o["q"])(),Object(o["d"])("div",l,[c,Object(o["h"])("form",{onSubmit:t[4]||(t[4]=Object(o["H"])((function(){}),["prevent"])),class:"login__email"},[Object(o["h"])("label",{class:[{"wrong-email":!s.isCorrectEmail},"login__email__label"],for:"email"},[d,u],2),Object(o["F"])(Object(o["h"])("input",{onKeyup:t[1]||(t[1]=Object(o["G"])((function(){return r.logIn.apply(r,arguments)}),["enter"])),onChange:t[2]||(t[2]=function(){return r.validateEmail.apply(r,arguments)}),"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.email=e}),class:"login__email__input",name:"email",type:"text",placeholder:"Adres e-mail"},null,544),[[o["D"],s.email]])],32),Object(o["h"])("form",{onSubmit:t[8]||(t[8]=Object(o["H"])((function(){}),["prevent"])),class:"login__password"},[Object(o["h"])("label",{class:[{"wrong-password":!s.isCorrectPassword},"login__password__label"],for:"password"},[b,p],2),Object(o["F"])(Object(o["h"])("input",{onKeyup:t[5]||(t[5]=Object(o["G"])((function(){return r.logIn.apply(r,arguments)}),["enter"])),onChange:t[6]||(t[6]=function(){return r.validatePassword.apply(r,arguments)}),"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.password=e}),class:"login__password__input",name:"password",type:"password",placeholder:"Hasło",autocomplete:"on"},null,544),[[o["D"],s.password]])],32),h,Object(o["h"])("button",{onClick:t[9]||(t[9]=function(){return r.logIn.apply(r,arguments)}),class:"login__btn"},"Zaloguj się"),Object(o["h"])("p",j,[g,Object(o["h"])(O,{to:"/rejestracja"},{default:i((function(){return[m]})),_:1})])])})),f=(a("d3b7"),a("5502")),w={name:"Zaloguj",data:function(){return{email:"",password:"",isCorrectEmail:!0,isCorrectPassword:!0,didInputChanged:!1}},store:f["a"],methods:{onSubmit:function(){},logIn:function(){var e=this;if(this.isCorrectEmail&&this.isCorrectPassword&&this.didInputChanged){var t={email:this.email,password:this.password},a="http://localhost:8080/api/auth/signin";fetch(a,{method:"POST",body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),alert("Udało się zalogować!"),e.$store.commit("logged",!0),e.$store.commit("userId",t.userId),e.$store.commit("userEmail",t.email),e.$router.push("/")})).catch((function(e){console.log("Błąd",e),alert("Nie udało się zalogować!")}))}else alert("Dane nie przeszły walidacji!")},getLogged:function(){return this.$store.state.logged},validateEmail:function(){this.didInputChanged=!0;var e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;this.isCorrectEmail=e.test(this.email)},validatePassword:function(){this.didInputChanged=!0;var e=/^.{6,}$/;this.isCorrectPassword=e.test(this.password)}}};a("9e0e");w.render=O,w.__scopeId="data-v-b035b2dc";var _=w,v=a("fd2d"),y={name:"Logowanie",components:{Navbar:r["a"],Zaloguj:_,Footer:v["a"]}};y.render=s;t["default"]=y}}]);
//# sourceMappingURL=chunk-3a6b2162.efb67c01.js.map