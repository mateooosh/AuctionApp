(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1592029d"],{"1c73":function(e,t,o){"use strict";o("a015")},2532:function(e,t,o){"use strict";var n=o("23e7"),i=o("5a34"),a=o("1d80"),s=o("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"2d9a":function(e,t,o){},"437f":function(e,t,o){"use strict";var n=o("7a23"),i=Object(n["I"])("data-v-ffbc60ce");Object(n["t"])("data-v-ffbc60ce");var a={class:"menu"},s=Object(n["h"])("div",{class:"menu__header"}," Panel Administratora ",-1);Object(n["r"])();var c=i((function(e,t,o,i,c,l){return Object(n["q"])(),Object(n["d"])("section",a,[s,Object(n["h"])("div",null,[Object(n["h"])("div",{onClick:t[1]||(t[1]=function(t){return e.$router.push("/admin")}),class:[{active:"klienci"==o.active},"menu__option"]},"Klienci",2),Object(n["h"])("div",{onClick:t[2]||(t[2]=function(t){return e.$router.push("/admin/aukcje")}),class:[{active:"aukcje"==o.active},"menu__option"]},"Aukcje",2)])])})),l={name:"DashboardNav",props:{active:String},methods:{},mounted:function(){}};o("1c73");l.render=c,l.__scopeId="data-v-ffbc60ce";t["a"]=l},"44e7":function(e,t,o){var n=o("861d"),i=o("c6b6"),a=o("b622"),s=a("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==i(e))}},"5a34":function(e,t,o){var n=o("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"7bbb":function(e,t,o){"use strict";o("2d9a")},a015:function(e,t,o){},ab13:function(e,t,o){var n=o("b622"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},c3a5:function(e,t,o){"use strict";o("e78e")},caad:function(e,t,o){"use strict";var n=o("23e7"),i=o("4d64").includes,a=o("44d2"),s=o("ae40"),c=s("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cdba:function(e,t,o){"use strict";var n=o("7a23"),i=Object(n["I"])("data-v-3abe5006");Object(n["t"])("data-v-3abe5006");var a=Object(n["h"])("h1",null,"Klienci",-1),s={class:"details"},c=Object(n["h"])("section",{class:"headers"},[Object(n["h"])("div",null,"ID Klienta"),Object(n["h"])("div",null,"Imię"),Object(n["h"])("div",null,"Nazwisko"),Object(n["h"])("div",null,"Adres e-mail"),Object(n["h"])("div",null,"Miejscowość"),Object(n["h"])("div",null,"Województwo"),Object(n["h"])("div",null,"Telefon"),Object(n["h"])("div",null,"Akcje")],-1),l={key:0},r={key:1},u={key:0,class:"edit"},d=Object(n["h"])("div",{class:"edit__background"},null,-1),b={class:"edit__card"},h={class:"edit__header"},m=Object(n["h"])("p",null,"Zmiana danych użytkownika",-1),p={class:"edit__body"},v=Object(n["g"])("E-mail"),j=Object(n["h"])("span",{style:{color:"red"}},"*",-1),O=Object(n["g"])("Imię"),f=Object(n["h"])("span",{style:{color:"red"}},"*",-1),_=Object(n["g"])("Nazwisko"),k=Object(n["h"])("span",{style:{color:"red"}},"*",-1),w=Object(n["g"])("Lokalizacja"),y=Object(n["h"])("span",{style:{color:"red"}},"*",-1),C=Object(n["h"])("label",{class:"edit__province__label",for:"province"},[Object(n["g"])("Województwo"),Object(n["h"])("span",{style:{color:"red"}},"*")],-1),g=Object(n["f"])('<option value="" disabled selected data-v-3abe5006>Wybierz...</option><option value="dolnośląskie" data-v-3abe5006>dolnośląskie</option><option value="kujawsko-pomorskie" data-v-3abe5006>kujawsko-pomorskie</option><option value="lubelskie" data-v-3abe5006>lubelskie</option><option value="lubuskie" data-v-3abe5006>lubuskie</option><option value="łódzkie" data-v-3abe5006>łódzkie</option><option value="małopolskie" data-v-3abe5006>małopolskie</option><option value="mazowieckie" data-v-3abe5006>mazowieckie</option><option value="opolskie" data-v-3abe5006>opolskie</option><option value="podkarpackie" data-v-3abe5006>podkarpackie</option><option value="podlaskie" data-v-3abe5006>podlaskie</option><option value="pomorskie" data-v-3abe5006>pomorskie</option><option value="śląskie" data-v-3abe5006>śląskie</option><option value="świętokrzyskie" data-v-3abe5006>świętokrzyskie</option><option value="warmińsko-mazurskie" data-v-3abe5006>warmińsko-mazurskie</option><option value="wielkopolskie" data-v-3abe5006>wielkopolskie</option><option value="zachodniopomorskie" data-v-3abe5006>zachodniopomorskie</option>',17),I=Object(n["g"])("Numer telefonu"),E=Object(n["h"])("span",{style:{color:"red"}},"*",-1),z={class:"modal__footer"},q={key:1,class:"modal"},L=Object(n["h"])("div",{class:"modal__background"},null,-1),T={class:"modal__card"},V={class:"modal__header"},A=Object(n["h"])("p",null,"Blokowanie użytkownika ",-1),S=Object(n["h"])("section",{class:"modal__body"}," Czy na pewno chcesz zablokować tego użytkownika? ",-1),U={class:"modal__footer"};Object(n["r"])();var x=i((function(e,t,o,i,x,R){var D=Object(n["y"])("TableKlienci");return Object(n["q"])(),Object(n["d"])("section",null,[a,Object(n["F"])(Object(n["h"])("input",{class:"search__input",onKeyup:t[1]||(t[1]=function(e){return R.searchInUsers(x.query)}),type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return x.query=e}),placeholder:"Szukaj"},null,544),[[n["D"],x.query]]),Object(n["h"])("div",s,[c,x.query.length<1?(Object(n["q"])(),Object(n["d"])("div",l,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(x.users,(function(e,t){return Object(n["q"])(),Object(n["d"])("div",{key:e},[Object(n["h"])(D,{onRemove:R.showModalRemove,onEdit:R.showModalEdit,user:e,i:t},null,8,["onRemove","onEdit","user","i"])])})),128))])):Object(n["e"])("",!0),x.query.length>0?(Object(n["q"])(),Object(n["d"])("div",r,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(x.users2,(function(e,t){return Object(n["q"])(),Object(n["d"])("div",{key:e},[Object(n["h"])(D,{onRemove:R.showModalRemove,onEdit:R.showModalEdit,user:e,i:t},null,8,["onRemove","onEdit","user","i"])])})),128))])):Object(n["e"])("",!0)]),x.modalEditIsVisible?(Object(n["q"])(),Object(n["d"])("section",u,[d,Object(n["h"])("div",b,[Object(n["h"])("div",h,[m,Object(n["h"])("button",{onClick:t[3]||(t[3]=function(e){return x.modalEditIsVisible=!1}),class:"edit__delete"})]),Object(n["h"])("section",p,[Object(n["h"])("form",{onSubmit:t[6]||(t[6]=Object(n["H"])((function(){}),["prevent"])),class:"edit__email"},[Object(n["h"])("label",{class:[{"wrong-email":!x.isCorrectEmail},"edit__email__label"],for:"email"},[v,j],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return x.email=e}),onChange:t[5]||(t[5]=function(e){return x.isCorrectEmail=R.validateMin3Char(x.email)}),class:"edit__email__input",name:"email",type:"text",placeholder:"E-mail"},null,544),[[n["D"],x.email]])],32),Object(n["h"])("form",{onSubmit:t[9]||(t[9]=Object(n["H"])((function(){}),["prevent"])),class:"edit__firstname"},[Object(n["h"])("label",{class:[{"wrong-firstname":!x.isCorrectFirstname},"edit__firstname__label"],for:"firstname"},[O,f],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return x.firstname=e}),onChange:t[8]||(t[8]=function(e){return x.isCorrectFirstname=R.validateMin3Char(x.firstname)}),class:"edit__firstname__input",name:"firstname",type:"text",placeholder:"Imię"},null,544),[[n["D"],x.firstname]])],32),Object(n["h"])("form",{onSubmit:t[12]||(t[12]=Object(n["H"])((function(){}),["prevent"])),class:"edit__lastname"},[Object(n["h"])("label",{class:[{"wrong-lastname":!x.isCorrectLastname},"edit__lastname__label"],for:"lastname"},[_,k],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return x.lastname=e}),onChange:t[11]||(t[11]=function(e){return x.isCorrectLastname=R.validateMin3Char(x.lastname)}),class:"edit__lastname__input",name:"lastname",type:"text",placeholder:"Nazwisko"},null,544),[[n["D"],x.lastname]])],32),Object(n["h"])("form",{onSubmit:t[15]||(t[15]=Object(n["H"])((function(){}),["prevent"])),class:"edit__location"},[Object(n["h"])("label",{class:[{"wrong-location":!x.isCorrectLocation},"edit__location__label"],for:"location"},[w,y],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return x.location=e}),onChange:t[14]||(t[14]=function(e){return x.isCorrectLocation=R.validateMin3Char(x.location)}),class:"edit__location__input",name:"location",type:"text",placeholder:"Miejscowość"},null,544),[[n["D"],x.location]])],32),Object(n["h"])("form",{onSubmit:t[18]||(t[18]=Object(n["H"])((function(){}),["prevent"])),class:"edit__province"},[C,Object(n["F"])(Object(n["h"])("select",{onChange:t[16]||(t[16]=function(e){return x.isCorrectProvince=!0}),"onUpdate:modelValue":t[17]||(t[17]=function(e){return x.province=e}),class:"edit__province__select",name:"province"},[g],544),[[n["C"],x.province]])],32),Object(n["h"])("form",{onSubmit:t[21]||(t[21]=Object(n["H"])((function(){}),["prevent"])),class:"edit__phone"},[Object(n["h"])("label",{class:[{"wrong-phone":!x.isCorrectPhone},"edit__phone__label"],for:"phone"},[I,E],2),Object(n["F"])(Object(n["h"])("input",{"onUpdate:modelValue":t[19]||(t[19]=function(e){return x.phone=e}),onChange:t[20]||(t[20]=function(){return R.validatePhone.apply(R,arguments)}),class:"edit__phone__input",name:"phone",type:"text",placeholder:"Numer Telefonu"},null,544),[[n["D"],x.phone]])],32)]),Object(n["h"])("div",z,[Object(n["h"])("button",{onClick:t[22]||(t[22]=function(e){return x.modalEditIsVisible=!1}),class:"modal__btn"},"Anuluj"),Object(n["h"])("button",{onClick:t[23]||(t[23]=function(){return R.editUser.apply(R,arguments)}),class:"modal__btn"},"Zapisz dane użytkownika")])])])):Object(n["e"])("",!0),x.modalRemoveIsVisible?(Object(n["q"])(),Object(n["d"])("section",q,[L,Object(n["h"])("div",T,[Object(n["h"])("div",V,[A,Object(n["h"])("button",{onClick:t[24]||(t[24]=function(e){return x.modalRemoveIsVisible=!1}),class:"modal__delete"})]),S,Object(n["h"])("div",U,[Object(n["h"])("button",{onClick:t[25]||(t[25]=function(e){return x.modalRemoveIsVisible=!1}),class:"modal__btn"},"Anuluj"),Object(n["h"])("button",{onClick:t[26]||(t[26]=function(){return R.removeUser.apply(R,arguments)}),class:"modal__btn"},"Zablokuj użytkownika")])])])):Object(n["e"])("",!0)])})),R=(o("caad"),o("d3b7"),o("2532"),Object(n["I"])("data-v-d824470c"));Object(n["t"])("data-v-d824470c");var D={key:0},M={key:1};Object(n["r"])();var P=R((function(e,t,o,i,a,s){return Object(n["q"])(),Object(n["d"])("section",{class:[{even:o.i%2==1},"table"]},[Object(n["h"])("div",null,Object(n["A"])(o.user.userId),1),Object(n["h"])("div",null,Object(n["A"])(o.user.firstname),1),Object(n["h"])("div",null,Object(n["A"])(o.user.lastname),1),Object(n["h"])("div",null,Object(n["A"])(o.user.email),1),Object(n["h"])("div",null,Object(n["A"])(o.user.location),1),Object(n["h"])("div",null,Object(n["A"])(o.user.province),1),Object(n["h"])("div",null,Object(n["A"])(o.user.phone),1),o.user.active?(Object(n["q"])(),Object(n["d"])("div",D,[Object(n["h"])("i",{onClick:t[1]||(t[1]=function(t){return e.$emit("remove",o.user.userId)}),class:"fas fa-lock fa-lg",style:{margin:"0 5px"}}),Object(n["h"])("i",{onClick:t[2]||(t[2]=function(t){return e.$emit("edit",o.user)}),class:"fas fa-user-edit fa-lg",style:{margin:"0 5px"}})])):Object(n["e"])("",!0),o.user.active?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])("div",M," Zablokowany "))],2)})),F=(o("a9e3"),{name:"TableKlienci",props:{i:Number,user:Object},methods:{},mounted:function(){console.log(this.user)}});o("7bbb");F.render=P,F.__scopeId="data-v-d824470c";var K=F,N={name:"KlienciAdmin",components:{TableKlienci:K},data:function(){return{modalRemoveIsVisible:!1,modalEditIsVisible:!1,users:[],users2:[],query:"",userIdToDelete:0,userToEdit:0,email:"",firstname:"",lastname:"",location:"",province:"",phone:"",isCorrectEmail:!0,isCorrectFirstname:!0,isCorrectLastname:!0,isCorrectLocation:!0,isCorrectProvince:!0,isCorrectPhone:!0}},mounted:function(){this.getUsers()},watch:{},methods:{showModalEdit:function(e){this.email=e.email,this.firstname=e.firstname,this.lastname=e.lastname,this.location=e.location,this.province=e.province,this.phone=e.phone,this.userIdToEdit=e.userId,console.log(e),this.modalEditIsVisible=!0},showModalRemove:function(e){this.userIdToDelete=e,this.modalRemoveIsVisible=!0},reset:function(){this.userIdToDelete=0,this.userToEdit=0,this.email="",this.firstname="",this.lastname="",this.location="",this.province="",this.phone=""},getUsers:function(){var e=this,t="http://localhost:8080/api/admin/users";fetch(t).then((function(e){return e.json()})).then((function(t){console.log("Pobrani użytkownicy:",t),e.users=t})).catch((function(e){return console.log("Coś poszło nie tak",e)}))},removeUser:function(){var e=this,t="http://localhost:8080/api/users/"+this.userIdToDelete;console.log(t),fetch(t,{method:"DELETE"}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),alert("Konto zostało zablokowane!"),e.modalRemoveIsVisible=!1,e.reset(),e.getUsers()})).catch((function(e){console.log("Błąd",e),console.log("Coś poszło nie tak z requestem: ",t)}))},editUser:function(){var e=this;console.log(this.userIdToEdit);var t="http://localhost:8080/api/admin/users/".concat(this.userIdToEdit,"/personal/change"),o={userId:this.userIdToEdit,email:this.email,firstname:this.firstname,lastname:this.lastname,location:this.location,province:this.province,phone:this.phone};console.log("Przesłany obiekt",o),fetch(t,{method:"POST",body:JSON.stringify(o)}).then((function(e){if(e.ok)return e.json();throw new Error(e.status)})).then((function(t){console.log("Sukces. Odebrane dane ",t),alert("Zmieniono dane użytkownika"),e.modalEditIsVisible=!1,e.reset(),e.getUsers()})).catch((function(e){console.log("Błąd",e),alert("Coś poszło nie tak!")}))},searchInUsers:function(e){if(this.users2=[],e){for(var t=0;t<this.users.length;t++)(this.users[t].firstname.toLowerCase().includes(e.toLowerCase())||this.users[t].lastname.toLowerCase().includes(e.toLowerCase())||this.users[t].email.toLowerCase().includes(e.toLowerCase())||this.users[t].location.toLowerCase().includes(e.toLowerCase())||this.users[t].province.toLowerCase().includes(e.toLowerCase())||this.users[t].phone.toLowerCase().includes(e.toLowerCase()))&&this.users2.push(this.users[t]);console.log("users2:",this.users2)}else console.log("empty")},validateEmail:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},validateMin3Char:function(e){var t=/^.{3,}$/;return t.test(e)},validatePhone:function(){var e=/^[0-9]{9}$/;this.isCorrectPhone=e.test(this.phone)}}};o("c3a5");N.render=x,N.__scopeId="data-v-3abe5006";t["a"]=N},e78e:function(e,t,o){}}]);
//# sourceMappingURL=chunk-1592029d.7a3ee2a4.js.map